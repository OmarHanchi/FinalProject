@model DreamParadise.Models.Reservation

@{
    ViewBag.Title = "Book Now";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script>
        function updatePrice() {
            var roomType = document.getElementById("RoomType").value;
            var childCount = parseInt(document.getElementById("ChildCount").value) || 0;
            var roomPrice = 0;

            switch (roomType) {
                case "Single Room":
                    roomPrice = 100;
                    break;
                case "Family Room":
                    roomPrice = 170;
                    break;
                case "Suite":
                    roomPrice = 210;
                    break;
            }

            var totalPrice = roomPrice + (childCount * 50);
            document.getElementById("TotalPrice").value = totalPrice;
        }
    </script>
</head>
<body class="bg-light">
    <div class="container vh-50 d-flex flex-column justify-content-center">
        <h1 class="text-center text-Black mb-4">Book Now</h1>
        <div class="bg-white p-4 rounded shadow">
            <form asp-action="CreateReservation" method="post" asp-controller="Home">
                <div class="form-group">
                    <label for="CheckIn">Check-In Date:</label>
                    <input asp-for="CheckIn" id="CheckIn" class="form-control" />
                    <span asp-validation-for="CheckIn" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label for="CheckOut">Check-Out Date:</label>
                    <input asp-for="CheckOut" id="CheckOut" class="form-control" />
                    <span asp-validation-for="CheckOut" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label for="AdultsCount">Number of Adults:</label>
                    <input asp-for="AdultsCount" id="AdultsCount" class="form-control" />
                </div>
                <div class="form-group">
                    <label for="ChildCount">Number of Children:</label>
                    <input asp-for="ChildCount" id="ChildCount" class="form-control" oninput="updatePrice()" />
                </div>
                <div class="form-group">
                    <label for="RoomType">Room Type:</label>
                    <select asp-for="RoomType" id="RoomType" class="form-control" onchange="updatePrice()">
                        <option value="">Select an option</option>
                        <option value="Single Room">Single Room</option>
                        <option value="Family Room">Family Room</option>
                        <option value="Suite">Suite</option>
                    </select>
                    <span asp-validation-for="RoomType" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label for="TotalPrice">Total Price:</label>
                    <input asp-for="TotalPrice" id="TotalPrice" class="form-control" readonly />
                </div>
                <button type="submit" class="btn btn-primary">Book Now</button>
            </form>
        </div>
    </div>
</body>
</html>
